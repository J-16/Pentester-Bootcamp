# _Download Burp Suite (free version) and visit a website and see what requests are sent and what responses are received._

<br>

Download [burp suite](https://portswigger.net/burp/communitydownload) and install it. It will be re-installed in KALI Linux and for ubuntu you need to install manually. Configure the [burp](https://portswigger.net/burp/documentation/desktop/getting-started/proxy-setup/browser).

Now when you configured successfully, we will start intercepting the request.

Firstly we will intercept our apache server that we worked so far with.

- In Burp suite go to ```Proxy``` tab
- Inside ```Proxy``` go to ```Intercept``` tab
- Make sure ```Intercept is on```
- Now move to the browser and enter the IP address or server name (eg; 192.168.149.128 or http://vulnerable).
- Now you can see that browser is still loading and there is no response in return. (This is because we are listening to the request in the Burp suite)
- Now move to burp suite. (let's see what request and response looks like)

<br>

> Request

<img src="./burp_request.png" style="margin-right:auto; margin-left:auto; width:80%; display:block;">

<br>

Understanding each part: 

```
GET / HTTP/1.1
```
___GET__ : method (requesting some data from the server)_ <br>
___/__ : Path (here ```/``` denotes, asking for web page at the server's root file)_ <br>
___HTTP/1.1__ : Scheme (HTTP/HTTPS protocol/version)

<br>

```
Host: 192.168.149.128
```
_Host: Server address (defining to which server the request is made)_

```
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101 Firefox/60.0
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Language: en-US,en;q=0.5
Accept-Encoding: gzip, deflate
Connection: close
Upgrade-Insecure-Requests: 1
```
These are other headers which we may not care for now, but you can learn more about this if your want to.

> Response

Now, In Burp suite 
- Right click inside ```Raw``` tab navigate to ```Do Intercept``` and click ```Response to this request```

Like: 

<img src="./burp_do_intercept.png" style="display:block;
margin-right:auto; margin-left:auto; width:70%; height:50%;">
  
- Now Forward the request by pressing the ```Forward``` button at the top.

<br>

<img src="./burp_response.png" style="display:block;
margin-right:auto; margin-left:auto; width:70%; height:50%;">

Understanding the individual part:

```
HTTP/1.1 200 OK
```
HTTP/1.1 : Scheme (HTTP/HTTPS protocol/version)
200 OK : status code (means the request is succeeded)

```
Date: Fri, 08 Jan 2021 09:00:23 GMT
Server: Apache/2.4.41 (Debian)
Last-Modified: Tue, 27 Aug 2019 13:06:55 GMT
ETag: "29cd-59118f25d59c0-gzip"
Accept-Ranges: bytes
Vary: Accept-Encoding
Content-Length: 10701
Connection: close
Content-Type: text/html
```
Again for now let's not care about the header part

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    ...
```
This is the ```body``` that we got as a response from the server. This is the one we saw in our browser and also the one we got from our http programs.

<br>

> Socket Program

<br>

Now going back to our [socket program](./http-client-socket.py), remember we made a weird get request?


```
GET / HTTP/1.1

Host: 192.168.149.128

User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101 Firefox/60.0

Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8

Accept-Language: en-US,en;q=0.5

Accept-Encoding: gzip, deflate

Connection: close

Upgrade-Insecure-Requests: 1

```

```
s.sendall(b"GET / HTTP/1.1\r\nHost: 192.168.149.128\r\n\r\n")
```
\r - carriage return <br>
\n - new line <br>
You can get the idea behind this request from above (Request captured by burp suite).


<br>

> To-do :
<br>

Now, in the root directory of the server add this [http file](./New_page.html)

```
/var/www/http
```
commands used 
```
sudo,nano,vim,cd
```

View the same in the browser and see how requests and response looks now.

Now write a http client program (both http library and socket) to get ```New_page.html``` that we get just created.
